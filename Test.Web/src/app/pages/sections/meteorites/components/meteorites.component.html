@let ctx = context();
<div class="filters-row">
    @if (ctx?.possibleClasses) {
        <app-select [title]="classTitle" [options]="ctx?.possibleClasses" (selectionChange)="onClassChange($event)">
        </app-select>
    }

    @if (ctx?.possibleYears) {
        <app-select [title]="fromTitle" [options]="ctx?.possibleYears" (selectionChange)="onFromChange($event)">
        </app-select>
        <app-select [title]="toTitle" [options]="ctx?.possibleYears" (selectionChange)="onToChange($event)">
        </app-select>
    }
</div>

<table mat-table matSort [dataSource]="ctx?.data ?? []">
    <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let el"> {{el.name}} </td>
    </ng-container>

    <ng-container matColumnDef="recclass">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Class </th>
        <td mat-cell *matCellDef="let el"> {{el.recclass}} </td>
    </ng-container>

    <ng-container matColumnDef="mass">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Mass </th>
        <td mat-cell *matCellDef="let el"> {{el.mass}} </td>
    </ng-container>

    <ng-container matColumnDef="fall">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Fall </th>
        <td mat-cell *matCellDef="let el"> {{el.fall}} </td>
    </ng-container>

    <ng-container matColumnDef="year">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Year </th>
        <td mat-cell *matCellDef="let el"> {{el.year}} </td>
    </ng-container>

    <ng-container matColumnDef="reclat">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Latitude </th>
        <td mat-cell *matCellDef="let el"> {{el.reclat}} </td>
    </ng-container>

    <ng-container matColumnDef="reclong">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Longitude </th>
        <td mat-cell *matCellDef="let el"> {{el.reclat}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayColumns;"></tr>
</table>